<!DOCTYPE html>
<html>
<head>
    <title>Stock Recommendations</title>
    <style>

        th {
            cursor: pointer;
            background-color: #f2f2f2;
            padding: 8px;
          }
          
          th:hover {
            background-color: #737373;
          }
          body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            background-color: #1a1a1a; /* Dark background color */
        }
        

    </style>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
   
</head>
<body>
    <header>
        <nav>
            <a href="{{ url_for('index') }}" class="logo">PayPro</a>
            <ul>
                <li><a href="{{ url_for('screener') }}">Screen screener</a></li>
                <li><a href="{{ url_for('portfolio') }}">Portfolio</a></li>
                <li> <a href="{{ url_for('visualization_intraday') }}">Visualization Intraday</a></li>
                <li> <a href="{{ url_for('visualization') }}">Visualization</a></li>
                <li> <a href="{{ url_for('blog') }}">Blog</a></li>
                <li>    <a href="{{ url_for('logout') }}"> {{ user }} Logout</a></li>

            </ul>
        </nav>
    </header>
    <h1>Stock Screener</h1>

    <table id="stockTable">
        {{ table|safe }}
    </table>

    <script>
        let sortDirection = 1;

        function sortTable(columnIndex) {
            const table = document.querySelector('.sortable-table');
            const rows = Array.from(table.rows).slice(1); // Skip the header row

            rows.sort((a, b) => {
                const aValue = a.cells[columnIndex].innerText.toLowerCase();
                const bValue = b.cells[columnIndex].innerText.toLowerCase();

                if (aValue < bValue) return -sortDirection;
                if (aValue > bValue) return sortDirection;
                return 0;
            });

            sortDirection = -sortDirection; // Change the sort direction

            const tableBody = table.tBodies[0];
            tableBody.innerHTML = "";
            rows.forEach(row => tableBody.appendChild(row));
        }

        const tableHeaders = document.querySelectorAll('.sortable-table th');
        tableHeaders.forEach((header, index) => {
            header.addEventListener('click', () => sortTable(index));
        });
    </script>
    

</body>
</html>